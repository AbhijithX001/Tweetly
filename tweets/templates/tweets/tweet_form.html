{% extends "layout.html" %}
{% block title %}Tweet{% endblock %}

{% block content %}
<h2 class="mb-4">{{ tweet|default_if_none:"Create Tweet" }}</h2>

<div class="p-4 bg-white rounded-4 shadow-sm" style="max-width: 600px; margin: auto;">

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <textarea name="text" class="form-control mb-3" rows="4" placeholder="What's happening?" required>
{{ tweet.text|default_if_none:"" }}
        </textarea>

        {% if tweet.photo %}
            <div class="mb-3">
                <img src="{{ tweet.photo.url }}" class="img-fluid rounded-3">
            </div>
        {% endif %}

        <input type="file" name="photo" class="form-control mb-3">

        <button class="btn btn-primary">{{ tweet|yesno:"Update,Post" }}</button>

        <a href="{% url 'tweet_list' %}" class="btn btn-secondary ms-2">Cancel</a>
    </form>

</div>
{% endblock %}
